/*
 * By using this application, you are bound the license agreement set forth on
 * this page: http://docs.forwardfour.com/index.php/License
*/

(function(a){a(document).ready(function(){a("#dbTest").live("click",function(){var b=a(this);b.button("disable").button("option","label","Testing...");a.ajax({url:document.location.href,type:"POST",data:{test:"dbConnection",dbHost:a(".dbHost").val(),dbPort:a(".dbPort").val(),dbUsername:a(".dbUsername").val(),dbPassword:a(".dbPassword").val(),dbName:a(".dbName").val()},success:function(c){if(c=="success"){b.button("option","label","Connection was successful!");a(":text, :password").attr({readonly:"readonly"});a("#dbContinue").button("enable");}else{b.button("option","label","Test connection").button("enable");a("<div></div>").html("<p>The system was unable to make a connection and log into the database. Please make sure that the database connection, credentials, and name are correct. The database connection values supplied by default are usually correct, however, there are cases where they will need to be changed. If you are still having difficulties, contact your hosting provider for assistance.</p>").analog({width:"650",height:"300",title:"Database Connection Error",buttons:{Ok:function(){a(this).dialog("close");}}});}}});});});})(jQuery);